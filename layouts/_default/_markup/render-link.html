{{- if .Page.Site.Params.BookPortableLinks -}}
{{- errorf "BookPortableLinks is unsupported" }}
{{- else -}}
  {{- $isRemote := or (in .Destination ":") (strings.HasPrefix .Destination "//") }}
  {{- if $isRemote }}
    <a target="_blank" href="{{ .Destination | safeURL }}"{{ with .Title}} title="{{ . }}"{{ end }}>{{ .Text | safeHTML }}</a>
  {{- else}}
    <a href="{{ .Destination | safeURL }}"{{ with .Title}} title="{{ . }}"{{ end }}>{{ .Text | safeHTML }}</a>
  {{- end -}}
{{- end -}}

